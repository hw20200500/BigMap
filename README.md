# BigMap
### : 화물차/대형차 전용 네비게이션 어플리케이션


![제목을-입력해주세요_-001 (2)](https://github.com/hw20200500/BigMap/assets/117514148/7984a1d1-fd76-4b11-9a4c-f1bb4871af65)



### 개발 배경

---

화물차/대형차 운전자들만을 위한 맞춤형 네비게이션 어플리케이션이 그 필요성에 비해 아직 시중에 많이 나와 있지 않다고 판단하여 이러한 어플리케이션을 개발하게 되었습니다. 

- 타겟층 : 대형차, 화물차 운전자들

### 사용한 도구(Tool)

---

- Android Studio, Firebase, Github
- 활용한 API / SDK:
    - TMap API : 지도, 네비게이션 구현, 사용자 실시간 위치 정보 사용 등을 할 때 TMap에서 제공하는 여러 API 및 SDK를 사용하였습니다.
    - Vector Map SDK: 메인 홈 화면에서의 지도 출력, 사용자 위치 정보 가져오기, 검색 페이지에서 전국 위치 정보 데이터 가져오기 등의 기능을 구현할 때 사용하였습니다.
    - Navi SDK: 차량 주행 모드에서 실행되는 네비게이션 기능을 제공하는 SDK입니다. 이를 이용하여 차량의 높이, 너비, 길이, 무게에 따라 다른 경로 안내를 제공할 수 있도록 제작하였습니다.

### 문제 해결 과정

---

**문제 1. TMap Navi SDK에 대한 상대적인 정보 부족으로 특정 기능 구현에 대한 어려움**

유료 서비스인 TMap의 Navi SDK는 사용자가 다른 무료 API에 비해 적고, 그에 따른 정보도 적어 TMap에서 홈페이지에 예시 코드를 들면서 설명한 부분 외의 함수, 기능에 대해서는 구현하기 힘들었습니다. 

그래서 Navi SDK에 있는 관련 함수 코드를 분석하여 필요한 기능을 구현하는 함수를 찾아내어 이를 활용, 기능을 구현하였습니다. 

**문제 2. 화면 터치 되지 않는 Bottom Sheet 오류**

지도를 메인 화면으로 하고 그 위에 슬라이드해서 화면을 조절하는 Bottom Sheet 레이아웃을 배치하는 경우, 밑에 지도로 인해 그 위에 있는 Bottom Sheet 레이아웃이 터치되지 않는 문제가 발생하였습니다.

이를 Bottom Sheet 레이아웃의 높이에 따라서 실시간으로 메인 지도 레이아웃의 높이도 변경되도록 조절되도록 수정함으로써 해결할 수 있었습니다.

### 구현 기능

---

🧡 : 제가 맡아서 제작한 부분을 표시한 것입니다.

1. 사용자별 맞춤 기능  🧡
    - 회원가입 및 로그인 🧡
        
        ![004](https://github.com/hw20200500/BigMap/assets/117514148/bad6291c-98ad-457a-a551-bd2aa644bc42)

        
        파이어베이스에서 사용자 데이터베이스를 제작하고, 이를 연동하여 회원가입 페이지에서 사용자가 회원가입을 완료하면 해당 사용자 정보가 데이터베이스에 저장되도록 하였습니다. 
        
        로그인할 때 사용자의 이메일 주소, 비밀번호 정보를 가져와서 사용자가 입력한 데이터가 기존 사용자의 데이터와 일치하는지 확인하는 기능을 제작하였습니다. 
        
    - 마이페이지 🧡
        
        사용자가 회원가입할 때 작성하였던 본인의 정보를 수정할 수 있는 페이지입니다. 이 페이지에서 사용자의 개인정보와 로그인할 때 사용하는 이메일 주소와 비밀번호도 수정이 가능합니다. 또한, 사용자의 자동차 길이, 너비, 높이, 무게를 입력할 수 있도록 하였고, 해당 정보를 변경하면 사용자 데이터베이스에 있는 정보
        
    - 최근 검색 기록 목록 🧡
        
        사용자가 회원가입을 완료하면 자동으로 해당 사용자의 이메일 주소를 기본키로 하는 최근 검색 기록, 즐겨찾기 데이터베이스를 생성합니다. 
        
        이후 사용자가 검색 페이지에서 특정 위치 정보를 검색했을 때, 해당 정보(해당 장소에 맞는 위치 정보)가 사용자의 최근 검색 기록 데이터베이스에 저장되도록 제작하였습니다.
        
        이후 검색 페이지에 ‘최근 검색 기록’ 리스트에 사용자가 가장 최근에 검색한 순으로 최근 검색 기록 리스트가 출력되도록 하였습니다. 이러한 기능을 통해 사용자가 최근에 검색했던 장소 데이터를 사용자의 추가적인 행위없이 바로 확인할 수 있도록 하였습니다.
        
    - 장소 즐겨찾기 목록 🧡
        
        
        ![005](https://github.com/hw20200500/BigMap/assets/117514148/c1240630-b6b1-4df6-a734-d4e168d289d0)

        ‘장소 상세정보 페이지’에서 ⭐를 클릭하면 사용자의 이메일 주소를 기본키로 가지고 있는 즐겨찾기 데이터베이스에 해당 장소 데이터가 저장됩니다.
        
        이후 즐겨찾기 페이지에서 사용자는 본인이 저장한 즐겨찾기 장소 목록들을 볼 수 있습니다.
        
    - 
        
        
2. 전국 장소 검색 기능  🧡
    - 검색 페이지 🧡
        
        
        ![008](https://github.com/hw20200500/BigMap/assets/117514148/01b55fe9-4464-47c6-876f-bb3a95709992)

        ‘검색 페이지’에서 장소 명칭을 작성하였을 때(예: 한남대학교) TMAP API를 이용하여 해당 위치 정보를 검색하여 결과 데이터를 받아오고, 이를 어플리케이션 화면에서 보여질 수 있도록 제작하였습니다. 
        
        출력된 몇 개의 결과 데이터(리스트) 중에서 원하는 것을 클릭할 때, 지도 페이지에서 해당 위치 정보가 출력되도록 제작하였습니다. 
        
    - 장소 상세 페이지 🧡
        
        검색 페이지에서 선택, 클릭한 위치 정보 데이터를 가져와 지도 페이지 하단에서 시각적으로 보여질 수 있도록 제작한 페이지입니다.
        
        이 페이지에서 해당 장소의 명칭, 주소 등의 정보를 알 수 있고, ‘출발’, ‘도착’ 버튼을 이용하여 경로 안내 기능을 실행할 수 있습니다. 또한, 해당 장소를 즐겨찾기 데이터베이스에 저장할 수 있습니다. 
        
    
3. 게시판 기능
    - 공지, 자주하는 질문
        
        
        ![006](https://github.com/hw20200500/BigMap/assets/117514148/7b40da7f-ae8f-4d31-990f-6372a3b11c50)

        공지사항, 자주하는 질문 게시판에서는 각 게시판의 데이터베이스에 저장되어 있는 데이터를 불러와서 사용자들이 볼 수 있도록 제작한 게시판입니다. 
        
    - 자유게시판
        
        ![007](https://github.com/hw20200500/BigMap/assets/117514148/f6230bc6-5e84-43e4-a14c-dc8d03f8f6a6)

        
        초기에 일부 화물차/대형차 운전자들에게 ‘관리자와 사용자들이 소통할 수 있는 공간’이 있었으면 좋겠다는 의견을 받았습니다. 모든 경로와 화물차/대형차가 다닐 수 없는 도로를 앱 관리자들이 알 수는 없기에 사용자들이 이러한 정보를 관리자, 개발자들에게 바로 알려줄 수 있는 수단이 있으면 좋겠다는 의견을 수렴하여 사용자들이 직접 의견을 내고, 글을 작성할 수 있는 ‘자유게시판’을 제작하게 되었습니다.
        
        ‘자유 게시판’에서 사용자들이 게시물을 작성하여 저장할 경우, 해당 게시글 정보가 ‘자유게시판 데이터베이스’에 저장되게 되며, 해당 데이터가 자유게시판 페이지에서 모든 사용자 및 관리자가 확인할 수 있게 제작하였습니다.
        
4. 운전자들을 위한 맞춤 기능
    
    
    ![009](https://github.com/hw20200500/BigMap/assets/117514148/71f0d9cd-2e0c-42a0-a769-4abb31f7274e)

    - 차량에 따른 맞춤형 경로 안내
        
        마이페이지를 통해서 저장된 사용자 차량 정보(높이, 무게, 길이, 너비)를 바탕으로 해당 차량에 맞는 경로를 TMAP Navi SDK를 사용하여 제공합니다.  이때, 차량 데이터의 초깃값은 법적으로 허용하는 최대치로 설정하였기 때문에 사용자가 따로 차량 정보를 저장하지 않는다면 해당 수치를 바탕으로 경로를 탐색하게 됩니다. 
        
        해당 차량이 갈 수 없는 도로(예: 폭이 좁은 도로), 터널, 육교 등을 제외한 나머지 경로 중에서 가장 빨리 목적지까지 도착할 수 있는 경로를 사용자들에게 제공하여 대형차 운전자들이 보다 편리하게 목적지까지 이동할 수 있도록 제작하였습니다. 
        
        ![005](https://github.com/hw20200500/BigMap/assets/117514148/27e08930-367c-48a1-92d4-521508f039b1)

        
    - 주변 휴게소, 주차장, 주유소 안내
        
        사용자가 검색창 밑에 있는 버튼(주유소, 휴게소, 주차장, 카페 등)을 클릭하면 사용자의 현재 위치를 기준으로 휴게소는 최대 50km, 주차장, 주유소는 3km 이내에 있는 곳의 데이터를 받아와서 지도에 마커로 표시하여 사용자가 한 눈에 확인할 수 있도록 제작하였습니다. 
        
        ‘홈 화면’의 하단 레이아웃에서 사용자 위치를 기준으로 범위 이내에 있는 주유소와 휴게소 정보를 출력하여 사용자가 바로 확인할 수 있도록 제작하였습니다. 
        
    - ‘화물차 마일리지 제도’ 시행 휴게소 안내
        
        장거리 대형차 운전자들을 위해 한국도로공사에서 시행하는 ‘화물차 마일리지 제도’를 진행하고 있는 휴게소의 데이터를 가져와서 사용자가 버튼을 클릭했을 때, 지도에 마커로 출력하는 기능을 제작하였습니다.


<br><br>
### 문제 해결 과정
------------------------------------------
[![Video Label](http://img.youtube.com/vi/R5xk1YL-gD0/0.jpg)](https://youtu.be/R5xk1YL-gD0)
